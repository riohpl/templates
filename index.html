<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stepper with Progress Bar</title>
    <style>
      .checkbox-icon{
        content: url("./chcck.png");
      }
      .main-container {
        text-align: center;
        font-family: Arial, sans-serif;
        display: flex;
        justify-content: start;
        align-items: center;
        height: 100vh;
        flex-direction: column;
      }
      .container {
        width: 80vw;
        margin-top: 8%;
      }
      .progress-container {
        position: relative;
        width: 100%;
        height: 4px;
        background: #ccc;
      }
      .progress {
        height: 4px;
        width: 0%;
        background: #ff0283;
        transition: width 0.3s ease;
      }
      .step {
        display: grid;
        grid-template-columns: 1fr;
        gap: 20px;
      }
      .step-marker {
        position: absolute;
        width: 30px;
        height: 30px;
        background: #ccc;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: bold;
        color: white;
        transform: translate(-50%, -50%);
      }
      .step-marker.active {
        background: #ff0283;
      }
      .step-content {
        margin-top: 50px;
        padding: 20px;
      }
      button {
        margin-top: 20px;
        padding: 10px 20px;
        border: none;
        background: #ff0283;
        color: white;
        font-size: 16px;
        cursor: pointer;
        border-radius: 5px;
      }
      button:disabled {
        background: #ccc;
        cursor: not-allowed;
      }
      .answer {
        position: relative;
        display: flex;
        justify-content: start;
        align-items: center;
        border-radius: 2px;
        border: 1px solid #e4e4e4;
      }
      .answer img {
        width: 100%;
      }
      .answer-text {
        color: #504a5b;
        text-align: start;
      }
      .answer-title {
        width: 100%;
      }
      .active-answer {
        border: 1px solid #ff0283;
        background-color: #ff0283;
      }
      .answer-checkbox-container {
        display: grid;
        gap: 5px;
      }
      .answer-checkbox {
        display: flex;
        align-items: center;
        border: 1px solid #e4e4e4;
        gap: 10px;
        padding: 13px;
      }
      .answer-checkbox svg-icon {
        width: 24px; /* Set a consistent width */
        height: 24px;
        display: flex;
        justify-content: center;
        align-items: center;
        border: 1px solid #a5a5a5;
      }
      .answer-checkbox-text {
        color: #504a5b;
        text-align: start;
      }
      .active-checkbox {
        border: 1px solid #ff0283;
      }
      .active-checkbox svg-icon {
        background: #ff0283;
        border: none;
      }
    </style>
  </head>
  <body>
    <div class="main-container">
      <div class="header">
        <img src="./assets power redo/assets power redo/LOGO.png" alt="" />
      </div>
      <div class="container">
        <div class="progress-container">
          <div class="progress"></div>
          <div class="step-marker active" style="left: 0%"></div>
          <div class="step-marker" style="left: 33%">2</div>
          <div class="step-marker" style="left: 66%">3</div>
          <div class="step-marker" style="left: 100%"></div>
        </div>
        <div class="step-content" id="stepContent">
          <div class="step" id="step-0">
            <div class="title">
              <img
                src="./assets power redo/assets power redo/step 1/How does your skin feel most days_.png"
                alt=""
                class="answer-title"
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 1/choices1/1.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 1/choices1/2.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 1/choices1/3.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 1/choices1/4.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 1/choices1/5.png"
                alt=""
              />
            </div>
          </div>
          <div class="step" id="step-1" style="display: none">
            <div class="title">
              <img
                src="./assets power redo/assets power redo/step 2/About how many glasses of water do you drink per day_.png"
                alt=""
                class="answer-title"
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 2/choices2/1.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 2/choices2/2.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 2/choices2/3.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 2/choices2/4.png"
                alt=""
              />
            </div>
          </div>
          <div class="step" id="step-2" style="display: none">
            <div class="title">
              <img
                src="./assets power redo/assets power redo/step 3/What is your local climate like_.png"
                alt=""
                class="answer-title"
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 3/choices3/1.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 3/choices3/2.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 3/choices3/3.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 3/choices3/4.png"
                alt=""
              />
            </div>
          </div>
          <div class="step" id="step-3" style="display: none">
            <div class="title">
              <img
                src="./assets power redo/assets power redo/step 4/tell us about.png"
                alt=""
                class="answer-title"
              />
            </div>
            <div class="answer-checkbox-container">
              <div class="answer-checkbox" onclick="toggleCheck(this)">
                <svg-icon
                  size="sm"
                  _nghost-snk-c28=""
                  role="img"
                  class="ng-star-inserted fill-color svg-icon-check-fill"
                  style="font-size: 24px"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 20 20"
                    fit=""
                    height="100%"
                    width="100%"
                    preserveAspectRatio="xMidYMid meet"
                    focusable="false"
                  >
                    <path
                      class="svg-fill"
                      d="M0 2a2 2 0 012-2h16a2 2 0 012 2v16a2 2 0 01-2 2H2a2 2 0 01-2-2V2z"
                    ></path>
                    <path
                      stroke="#fff"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5.357 9.643l3.929 4.286L15 6.07"
                    ></path>
                  </svg>
                </svg-icon>
                <div class="answer-checkbox-text">Dullness</div>
              </div>
              <div class="answer-checkbox" onclick="toggleCheck(this)">
                <svg-icon
                  size="sm"
                  _nghost-snk-c28=""
                  role="img"
                  class="ng-star-inserted fill-color svg-icon-check-fill"
                  style="font-size: 24px"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 20 20"
                    fit=""
                    height="100%"
                    width="100%"
                    preserveAspectRatio="xMidYMid meet"
                    focusable="false"
                  >
                    <path
                      class="svg-fill"
                      d="M0 2a2 2 0 012-2h16a2 2 0 012 2v16a2 2 0 01-2 2H2a2 2 0 01-2-2V2z"
                    ></path>
                    <path
                      stroke="#fff"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5.357 9.643l3.929 4.286L15 6.07"
                    ></path>
                  </svg>
                </svg-icon>
                <div class="answer-checkbox-text">Dryness or flakiness</div>
              </div>
              <div class="answer-checkbox" onclick="toggleCheck(this)">
                <svg-icon
                  size="sm"
                  _nghost-snk-c28=""
                  role="img"
                  class="ng-star-inserted fill-color svg-icon-check-fill"
                  style="font-size: 24px"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 20 20"
                    fit=""
                    height="100%"
                    width="100%"
                    preserveAspectRatio="xMidYMid meet"
                    focusable="false"
                  >
                    <path
                      class="svg-fill"
                      d="M0 2a2 2 0 012-2h16a2 2 0 012 2v16a2 2 0 01-2 2H2a2 2 0 01-2-2V2z"
                    ></path>
                    <path
                      stroke="#fff"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5.357 9.643l3.929 4.286L15 6.07"
                    ></path>
                  </svg>
                </svg-icon>
                <div class="answer-checkbox-text">
                  Loss of volume or firmness
                </div>
              </div>
              <div class="answer-checkbox" onclick="toggleCheck(this)">
                <svg-icon
                  size="sm"
                  _nghost-snk-c28=""
                  role="img"
                  class="ng-star-inserted fill-color svg-icon-check-fill"
                  style="font-size: 24px"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 20 20"
                    fit=""
                    height="100%"
                    width="100%"
                    preserveAspectRatio="xMidYMid meet"
                    focusable="false"
                  >
                    <path
                      class="svg-fill"
                      d="M0 2a2 2 0 012-2h16a2 2 0 012 2v16a2 2 0 01-2 2H2a2 2 0 01-2-2V2z"
                    ></path>
                    <path
                      stroke="#fff"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5.357 9.643l3.929 4.286L15 6.07"
                    ></path>
                  </svg>
                </svg-icon>
                <div class="answer-checkbox-text">Fine lines or wrinkles</div>
              </div>
              <div class="answer-checkbox" onclick="toggleCheck(this)">
                <svg-icon
                  size="sm"
                  _nghost-snk-c28=""
                  role="img"
                  class="ng-star-inserted fill-color svg-icon-check-fill"
                  style="font-size: 24px"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 20 20"
                    fit=""
                    height="100%"
                    width="100%"
                    preserveAspectRatio="xMidYMid meet"
                    focusable="false"
                  >
                    <path
                      class="svg-fill"
                      d="M0 2a2 2 0 012-2h16a2 2 0 012 2v16a2 2 0 01-2 2H2a2 2 0 01-2-2V2z"
                    ></path>
                    <path
                      stroke="#fff"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5.357 9.643l3.929 4.286L15 6.07"
                    ></path>
                  </svg>
                </svg-icon>
                <div class="answer-checkbox-text">
                  Dark spots or discoloration
                </div>
              </div>
              <div class="answer-checkbox" onclick="toggleCheck(this)">
                <svg-icon
                  size="sm"
                  _nghost-snk-c28=""
                  role="img"
                  class="ng-star-inserted fill-color svg-icon-check-fill"
                  style="font-size: 24px"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 20 20"
                    fit=""
                    height="100%"
                    width="100%"
                    preserveAspectRatio="xMidYMid meet"
                    focusable="false"
                  >
                    <path
                      class="svg-fill"
                      d="M0 2a2 2 0 012-2h16a2 2 0 012 2v16a2 2 0 01-2 2H2a2 2 0 01-2-2V2z"
                    ></path>
                    <path
                      stroke="#fff"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5.357 9.643l3.929 4.286L15 6.07"
                    ></path>
                  </svg>
                </svg-icon>
                <div class="answer-checkbox-text">Redness</div>
              </div>
              <div class="answer-checkbox" onclick="toggleCheck(this)">
                <svg-icon
                  size="sm"
                  _nghost-snk-c28=""
                  role="img"
                  class="ng-star-inserted fill-color svg-icon-check-fill"
                  style="font-size: 24px"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 20 20"
                    fit=""
                    height="100%"
                    width="100%"
                    preserveAspectRatio="xMidYMid meet"
                    focusable="false"
                  >
                    <path
                      class="svg-fill"
                      d="M0 2a2 2 0 012-2h16a2 2 0 012 2v16a2 2 0 01-2 2H2a2 2 0 01-2-2V2z"
                    ></path>
                    <path
                      stroke="#fff"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5.357 9.643l3.929 4.286L15 6.07"
                    ></path>
                  </svg>
                </svg-icon>
                <div class="answer-checkbox-text">Visible pores</div>
              </div>
              <div class="answer-checkbox" onclick="toggleCheck(this)">
                <svg-icon
                  size="sm"
                  _nghost-snk-c28=""
                  role="img"
                  class="ng-star-inserted fill-color svg-icon-check-fill"
                  style="font-size: 24px"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 20 20"
                    fit=""
                    height="100%"
                    width="100%"
                    preserveAspectRatio="xMidYMid meet"
                    focusable="false"
                  >
                    <path
                      class="svg-fill"
                      d="M0 2a2 2 0 012-2h16a2 2 0 012 2v16a2 2 0 01-2 2H2a2 2 0 01-2-2V2z"
                    ></path>
                    <path
                      stroke="#fff"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5.357 9.643l3.929 4.286L15 6.07"
                    ></path>
                  </svg>
                </svg-icon>
                <div class="answer-checkbox-text">Bumps and Blemishes</div>
              </div>
              <div class="answer-checkbox" onclick="toggleCheck(this)">
                <svg-icon
                  size="sm"
                  _nghost-snk-c28=""
                  role="img"
                  class="ng-star-inserted fill-color svg-icon-check-fill"
                  style="font-size: 24px"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 20 20"
                    fit=""
                    height="100%"
                    width="100%"
                    preserveAspectRatio="xMidYMid meet"
                    focusable="false"
                  >
                    <path
                      class="svg-fill"
                      d="M0 2a2 2 0 012-2h16a2 2 0 012 2v16a2 2 0 01-2 2H2a2 2 0 01-2-2V2z"
                    ></path>
                    <path
                      stroke="#fff"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5.357 9.643l3.929 4.286L15 6.07"
                    ></path>
                  </svg>
                </svg-icon>
                <div class="answer-checkbox-text">Sensitive skin</div>
              </div>
              <div
                class="answer-checkbox"
                onclick="toggleCheck(this)"
                data-target="uncheck"
              >
                <svg-icon
                  size="sm"
                  _nghost-snk-c28=""
                  role="img"
                  class="ng-star-inserted fill-color svg-icon-check-fill"
                  style="font-size: 24px"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 20 20"
                    fit=""
                    height="100%"
                    width="100%"
                    preserveAspectRatio="xMidYMid meet"
                    focusable="false"
                  >
                    <path
                      class="svg-fill"
                      d="M0 2a2 2 0 012-2h16a2 2 0 012 2v16a2 2 0 01-2 2H2a2 2 0 01-2-2V2z"
                    ></path>
                    <path
                      stroke="#fff"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M5.357 9.643l3.929 4.286L15 6.07"
                    ></path>
                  </svg>
                </svg-icon>
                <div class="answer-checkbox-text">None of the above</div>
              </div>
            </div>
          </div>
          <div class="step" id="step-4" style="display: none">
            <input type="radio" name="radio2" /> Choice C
            <input type="radio" name="radio2" /> Choice D
          </div>
          <div class="step" id="step-5" style="display: none">
            <input type="checkbox" /> Option 5
          </div>
          <div class="step" id="step-6" style="display: none">
            <h3>Step 3 Content</h3>
            <input type="checkbox" /> Option 6
          </div>
          <div class="step" id="step-7" style="display: none">
            <input type="radio" name="radio3" /> Choice E
            <input type="radio" name="radio3" /> Choice F
          </div>
          <div class="step" id="step-8" style="display: none">
            <input type="checkbox" /> Option 7
          </div>
          <div class="step" id="step-9" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-10" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-11" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-12" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-13" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-14" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-15" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-16" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-17" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-18" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-19" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-20" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-21" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
        </div>
        <button id="backBtn" disabled>Back</button>
        <button id="nextBtn">Next</button>
      </div>
    </div>

    <script>
      const progress = document.querySelector(".progress");
      const nextBtn = document.getElementById("nextBtn");
      const backBtn = document.getElementById("backBtn");
      const stepMarkers = document.querySelectorAll(".step-marker");
      const steps = document.querySelectorAll(".step");
      const totalSteps = steps.length;
      const mainSteps = [0, 3, 6, 9];
      let currentStep = 0;

      nextBtn.addEventListener("click", () => {
        if (currentStep < totalSteps - 1) {
          steps[currentStep].style.display = "none";
          currentStep++;
          steps[currentStep].style.display = "grid";
          progress.style.width = (currentStep / (totalSteps - 1)) * 100 + "%";
          updateMarkers();
        }
        backBtn.disabled = false;
        if (currentStep === totalSteps - 1) {
          nextBtn.disabled = true;
        }
      });

      backBtn.addEventListener("click", () => {
        if (currentStep > 0) {
          steps[currentStep].style.display = "none";
          currentStep--;
          steps[currentStep].style.display = "grid";
          progress.style.width = (currentStep / (totalSteps - 1)) * 100 + "%";
          updateMarkers();
        }
        nextBtn.disabled = false;
        if (currentStep === 0) {
          backBtn.disabled = true;
        }
      });
      function toggleActive(e) {
        const answers = document.querySelectorAll(".answer");
        answers.forEach((answer) => {
          answer.classList.remove("active-answer");
        });
        e.classList.toggle("active-answer");
      }
      function toggleCheck(e) {
        if (e.dataset.target === "uncheck") {
          const checkboxes = document.querySelectorAll(".answer-checkbox");
          checkboxes.forEach((checkbox) => {
            checkbox.classList.remove("active-checkbox");
          });
        } else {
          const uncheckBox = document.querySelector('[data-target="uncheck"]');
          uncheckBox.classList.remove("active-checkbox");
        }
        e.classList.toggle("active-checkbox");
      }
      function updateMarkers() {
        stepMarkers.forEach((marker, index) => {
          console.log();
          if (currentStep === 7) {
            marker.classList.add("active");
          }
          // if (
          //   mainSteps.includes(currentStep) &&
          //   mainSteps.indexOf(currentStep) === index
          // ) {
          //   console.log("ACTIVE", marker, currentStep, index);
          //   // marker.classList.add("active");
          // } else {
          //   console.log("NOT ACTIVE", marker, currentStep, index);
          //   marker.classList.remove("active");
          // }
        });
      }
    </script>
  </body>
</html>
