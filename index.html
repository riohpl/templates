<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stepper with Progress Bar</title>
    <style>
      .checkbox-icon {
        content: url("./chcck.png");
      }
      .main-container {
        text-align: center;
        font-family: Arial, sans-serif;
        display: flex;
        justify-content: start;
        align-items: center;
        height: 100vh;
        flex-direction: column;
      }
      .container {
        width: 80vw;
        margin-top: 8%;
      }
      .progress-container {
        position: relative;
        width: 100%;
        height: 4px;
        background: #ccc;
      }
      .progress {
        height: 4px;
        width: 0%;
        background: #ff0283;
        transition: width 0.3s ease;
      }
      .step {
        display: grid;
        grid-template-columns: 1fr;
        gap: 20px;
      }
      .step-marker {
        position: absolute;
        width: 30px;
        height: 30px;
        background: #ccc;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: bold;
        color: white;
        transform: translate(-50%, -50%);
      }
      .step-marker.active {
        background: #ff0283;
      }
      .step-content {
        margin-top: 50px;
        padding: 20px;
      }
      button {
        margin-top: 20px;
        padding: 10px 20px;
        border: none;
        background: #ff0283;
        color: white;
        font-size: 16px;
        cursor: pointer;
        border-radius: 5px;
      }
      button:disabled {
        background: #ccc;
        cursor: not-allowed;
      }
      .answer {
        position: relative;
        display: flex;
        justify-content: start;
        align-items: center;
        border-radius: 2px;
        border: 1px solid #e4e4e4;
      }
      .answer img {
        width: 100%;
      }
      .answer-text {
        color: #504a5b;
        text-align: start;
      }
      .answer-title {
        width: 100%;
      }
      .active-answer {
        border: 1px solid #ff0283;
        background-color: #ff0283;
      }
      .answer-checkbox-container {
        display: grid;
        gap: 5px;
      }
      .answer-checkbox {
        display: flex;
        align-items: center;
        border: 1px solid #e4e4e4;
        gap: 10px;
        padding: 13px;
      }
      .answer-checkbox img {
        width: 24px; /* Set a consistent width */
        height: 24px;
        display: flex;
        justify-content: center;
        align-items: center;
        border: 1px solid #a5a5a5;
      }
      .answer-checkbox-text {
        color: #504a5b;
        text-align: start;
      }
      .active-checkbox {
        border: 1px solid #ff0283;
      }
      .active-checkbox img {
        background: #ff0283;
        border: none;
      }
      .active-outline {
        border: 1px solid #ff0283;
      }
    </style>
  </head>
  <body>
    <div class="main-container">
      <div class="header">
        <img src="./assets power redo/assets power redo/LOGO.png" alt="" />
      </div>
      <div class="container">
        <div class="progress-container">
          <div class="progress"></div>
          <div class="step-marker active" style="left: 0%"></div>
          <div class="step-marker" style="left: 33%">2</div>
          <div class="step-marker" style="left: 66%">3</div>
          <div class="step-marker" style="left: 100%"></div>
        </div>
        <div class="step-content" id="stepContent">
          <div class="step" id="step-0">
            <div class="title">
              <img
                src="./assets power redo/assets power redo/step 1/How does your skin feel most days_.png"
                alt=""
                class="answer-title"
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 1/choices1/1.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 1/choices1/2.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 1/choices1/3.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 1/choices1/4.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 1/choices1/5.png"
                alt=""
              />
            </div>
          </div>
          <div class="step" id="step-1" style="display: none">
            <div class="title">
              <img
                src="./assets power redo/assets power redo/step 2/About how many glasses of water do you drink per day_.png"
                alt=""
                class="answer-title"
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 2/choices2/1.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 2/choices2/2.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 2/choices2/3.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 2/choices2/4.png"
                alt=""
              />
            </div>
          </div>
          <div class="step" id="step-2" style="display: none">
            <div class="title">
              <img
                src="./assets power redo/assets power redo/step 3/What is your local climate like_.png"
                alt=""
                class="answer-title"
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 3/choices3/1.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 3/choices3/2.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 3/choices3/3.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 3/choices3/4.png"
                alt=""
              />
            </div>
          </div>
          <div class="step" id="step-3" style="display: none">
            <div class="title">
              <img
                src="./assets power redo/assets power redo/step 4/tell us about.png"
                alt=""
                class="answer-title"
              />
            </div>
            <div class="answer-checkbox-container">
              <div class="answer-checkbox" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Dullness</div>
              </div>
              <div class="answer-checkbox" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Dryness or flakiness</div>
              </div>
              <div class="answer-checkbox" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">
                  Loss of volume or firmness
                </div>
              </div>
              <div class="answer-checkbox" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Fine lines or wrinkles</div>
              </div>
              <div class="answer-checkbox" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">
                  Dark spots or discoloration
                </div>
              </div>
              <div class="answer-checkbox" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Redness</div>
              </div>
              <div class="answer-checkbox" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Visible pores</div>
              </div>
              <div class="answer-checkbox" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Bumps and Blemishes</div>
              </div>
              <div class="answer-checkbox" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Sensitive skin</div>
              </div>
              <div
                class="answer-checkbox"
                onclick="toggleCheck(this)"
                data-target="uncheck"
              >
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">None of the above</div>
              </div>
            </div>
          </div>
          <div class="step" id="step-4" style="display: none">
            <img
              src="./assets power redo/assets power redo/step 4/results/1.png"
              style="width: 100%"
            />
          </div>
          <div class="step" id="step-5" style="display: none">
            <div class="title">
              <img
                src="./assets power redo/assets power redo/step 5/How would you describe the fine lines around your eyes, forehea.png"
                alt=""
                class="answer-title"
              />
            </div>
            <div class="answer-checkbox-container">
              <div
                class="answer-outline answer-checkbox"
                onclick="toggleActiveOutline(this)"
              >
                <div class="answer-checkbox-text">No fine lines yet</div>
              </div>
              <div
                class="answer-outline answer-checkbox"
                onclick="toggleActiveOutline(this)"
              >
                <div class="answer-checkbox-text">Eh, they’re barely there</div>
              </div>
              <div
                class="answer-outline answer-checkbox"
                onclick="toggleActiveOutline(this)"
              >
                <div class="answer-checkbox-text">Few, but visible</div>
              </div>
              <div
                class="answer-outline answer-checkbox"
                onclick="toggleActiveOutline(this)"
              >
                <div class="answer-checkbox-text">Deep and prominent</div>
              </div>
            </div>
          </div>
          <div class="step" id="step-6" style="display: none">
            <div class="answer-checkbox-container">
              <div class="answer-checkbox check-6" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Forehead</div>
              </div>
              <div class="answer-checkbox check-6" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Between the eyebrows</div>
              </div>
              <div class="answer-checkbox check-6" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Around the eyes</div>
              </div>
              <div class="answer-checkbox check-6" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Around the mouth</div>
              </div>
              <div class="answer-checkbox check-6" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Smile lines/cheeks</div>
              </div>
              <div
                class="answer-checkbox"
                onclick="toggleCheck(this)"
                data-target="uncheck-step-6"
              >
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Somewhere else</div>
              </div>
            </div>
          </div>
          <div class="step" id="step-7" style="display: none">
            <div class="title">
              <img
                src="./assets power redo/assets power redo/step 4/tell us about.png"
                alt=""
                class="answer-title"
              />
            </div>
            <div class="answer-checkbox-container">
              <div
                class="answer-outline answer-checkbox"
                onclick="toggleActiveOutline(this)"
              >
                <div class="answer-checkbox-text">Small and barely there</div>
              </div>
              <div
                class="answer-outline answer-checkbox"
                onclick="toggleActiveOutline(this)"
              >
                <div class="answer-checkbox-text">
                  Sorta noticeable in my t-zone (forehead, nose, chin)
                </div>
              </div>
              <div
                class="answer-outline answer-checkbox"
                onclick="toggleActiveOutline(this)"
              >
                <div class="answer-checkbox-text">Large and visible</div>
              </div>
              <div
                class="answer-outline answer-checkbox"
                onclick="toggleActiveOutline(this)"
              >
                <div class="answer-checkbox-text">Girl, I have no idea</div>
              </div>
            </div>
          </div>
          <div class="step" id="step-8" style="display: none">
            <div class="answer-checkbox-container">
              <div class="answer-checkbox check-8" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">
                  Cleanser or Cleansing Balm
                </div>
              </div>
              <div class="answer-checkbox check-8" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Exfoliator</div>
              </div>
              <div class="answer-checkbox check-8" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Anti-redness Treatment</div>
              </div>
              <div class="answer-checkbox check-8" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Serum</div>
              </div>
              <div class="answer-checkbox check-8" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Moisturizer</div>
              </div>
              <div class="answer-checkbox check-8" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">
                  Plumping or Firming Cream
                </div>
              </div>
              <div class="answer-checkbox check-8" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Eye Cream</div>
              </div>
              <div class="answer-checkbox check-8" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Sunscreen</div>
              </div>
              <div class="answer-checkbox check-8" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Wrinkle Filler</div>
              </div>
              <div
                class="answer-checkbox"
                onclick="toggleCheck(this)"
                data-target="uncheck-step-8"
              >
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Somewhere else</div>
              </div>
            </div>
          </div>
          <div class="step" id="step-9" style="display: none">
            <div class="answer-checkbox-container">
              <div class="answer-checkbox check-9" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">
                  Fills in wrinkles and fine lines
                </div>
              </div>
              <div class="answer-checkbox check-9" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">
                  Blurs look of pores or uneven texture
                </div>
              </div>
              <div class="answer-checkbox check-9" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">
                  Smooths the look and feel of skin
                </div>
              </div>
              <div class="answer-checkbox check-9" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">
                  Preps skin for makeup application
                </div>
              </div>
              <div class="answer-checkbox check-9" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">
                  Hydrates and nourishes skin
                </div>
              </div>
              <div class="answer-checkbox check-9" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">
                  Has powerful ingredients for long-term benefit
                </div>
              </div>
              <div
                class="answer-checkbox"
                onclick="toggleCheck(this)"
                data-target="uncheck-step-9"
              >
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Something else</div>
              </div>
            </div>
          </div>
          <div class="step" id="step-10" style="display: none">
            <div class="title">
              <img
                src="./assets power redo/assets power redo/step 10/Be real_ How long does your skincare routine take_.png"
                alt=""
                class="answer-title"
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 10/choices1/1.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 10/choices1/2.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 10/choices1/3.png"
                alt=""
              />
            </div>
            <div class="answer" onclick="toggleActive(this)">
              <img
                src="./assets power redo/assets power redo/step 10/choices1/4.png"
                alt=""
              />
            </div>
          </div>
          <div class="step" id="step-11" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-12" style="display: none">
            <div class="answer-checkbox-container">
              <div class="answer-checkbox check-12" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Moisturizer</div>
              </div>
              <div class="answer-checkbox check-12" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Face oil</div>
              </div>
              <div class="answer-checkbox check-12" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Serum</div>
              </div>
              <div class="answer-checkbox check-12" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Wrinkle Filler</div>
              </div>
              <div class="answer-checkbox check-12" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Primer</div>
              </div>
              <div class="answer-checkbox check-12" onclick="toggleCheck(this)">
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">I don't prep</div>
              </div>
              <div
                class="answer-checkbox"
                onclick="toggleCheck(this)"
                data-target="uncheck-step-12"
              >
                <img class="checkbox-icon" alt="" />
                <div class="answer-checkbox-text">Something else</div>
              </div>
            </div>
          </div>
          <div class="step" id="step-13" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-14" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-15" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-16" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-17" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-18" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-19" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-20" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
          <div class="step" id="step-21" style="display: none">
            <h3>Step 4 Content</h3>
            <input type="checkbox" /> Option 8
          </div>
        </div>
        <button id="backBtn" disabled>Back</button>
        <button id="nextBtn">Next</button>
      </div>
    </div>

    <script>
      const progress = document.querySelector(".progress");
      const nextBtn = document.getElementById("nextBtn");
      const backBtn = document.getElementById("backBtn");
      const stepMarkers = document.querySelectorAll(".step-marker");
      const steps = document.querySelectorAll(".step");
      const totalSteps = steps.length;
      const mainSteps = [0, 3, 6, 9];
      let currentStep = 0;

      nextBtn.addEventListener("click", () => {
        if (currentStep < totalSteps - 1) {
          steps[currentStep].style.display = "none";
          currentStep++;
          steps[currentStep].style.display = "grid";
          progress.style.width = (currentStep / (totalSteps - 1)) * 100 + "%";
          updateMarkers();
        }
        backBtn.disabled = false;
        if (currentStep === totalSteps - 1) {
          nextBtn.disabled = true;
        }
      });

      backBtn.addEventListener("click", () => {
        if (currentStep > 0) {
          steps[currentStep].style.display = "none";
          currentStep--;
          steps[currentStep].style.display = "grid";
          progress.style.width = (currentStep / (totalSteps - 1)) * 100 + "%";
          updateMarkers();
        }
        nextBtn.disabled = false;
        if (currentStep === 0) {
          backBtn.disabled = true;
        }
      });
      function toggleActive(e) {
        const answers = document.querySelectorAll(".answer");
        answers.forEach((answer) => {
          answer.classList.remove("active-answer");
        });
        e.classList.toggle("active-answer");
      }
      function toggleActiveOutline(e) {
        const answers = document.querySelectorAll(".answer-outline");
        answers.forEach((answer) => {
          answer.classList.remove("active-outline");
        });
        e.classList.toggle("active-outline");
      }
      function toggleCheck(e) {
        const target = e.dataset.target;
        if (
          target === "uncheck" ||
          target === "uncheck-step-6" ||
          target === "uncheck-step-8" ||
          target === "uncheck-step-9" ||
          target === "uncheck-step-12"
        ) {
          let checkboxes;
          switch (target) {
            case "uncheck":
              checkboxes = document.querySelectorAll(".answer-checkbox");
              break;
            case "uncheck-step-6":
              checkboxes = document.querySelectorAll(".check-6");
              break;
            case "uncheck-step-8":
              checkboxes = document.querySelectorAll(".check-8");
              break;
            case "uncheck-step-9":
              checkboxes = document.querySelectorAll(".check-9");
              break;
            case "uncheck-step-12":
              checkboxes = document.querySelectorAll(".check-12");
              break;
          }
          checkboxes.forEach((checkbox) => {
            checkbox.classList.remove("active-checkbox");
          });
        } else {
          let uncheckBox;
          switch (target) {
            case "uncheck":
              uncheckBox = document.querySelector('[data-target="uncheck"]');
              uncheckBox.classList.remove("active-checkbox");
              break;
            case "uncheck-step-6":
              uncheckBox = document.querySelector(
                '[data-target="uncheck-step-6"]'
              );
              uncheckBox.classList.remove("active-checkbox");
              break;
            case "uncheck-step-8":
              uncheckBox = document.querySelector(
                '[data-target="uncheck-step-8"]'
              );
              uncheckBox.classList.remove("active-checkbox");
              break;
            case "uncheck-step-9":
              uncheckBox = document.querySelector(
                '[data-target="uncheck-step-9"]'
              );
              uncheckBox.classList.remove("active-checkbox");
              break;
            case "uncheck-step-12":
              uncheckBox = document.querySelector(
                '[data-target="uncheck-step-12"]'
              );
              uncheckBox.classList.remove("active-checkbox");
              break;
          }
        }

        e.classList.toggle("active-checkbox");
      }
      function updateMarkers() {
        console.log("UPDATE MARKERS", currentStep);
        stepMarkers.forEach((marker, index) => {
          console.log();
          if (currentStep === 7) {
            marker.classList.add("active");
          }
          // if (
          //   mainSteps.includes(currentStep) &&
          //   mainSteps.indexOf(currentStep) === index
          // ) {
          //   console.log("ACTIVE", marker, currentStep, index);
          //   // marker.classList.add("active");
          // } else {
          //   console.log("NOT ACTIVE", marker, currentStep, index);
          //   marker.classList.remove("active");
          // }
        });
      }
    </script>
  </body>
</html>
